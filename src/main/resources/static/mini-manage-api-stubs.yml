openapi: 3.0.1
info:
  title: Approved Premises ('mini-manage' stubs)
  version: 1.0.0
servers:
  - url: /
paths:
  /premises:
    get:
      tags:
        - Premises
      summary: Lists all approved premises
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Premises"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /premises/{premisesId}:
    get:
      tags:
        - Premises
      summary: Returns an approved premises
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises to return
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Premises"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
  /premises/{premisesId}/residents:
    get:
      tags:
        - Operations on premises
      summary: Returns all the residents in an approved premises with the given ID
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises to get residents for
          required: true
          schema:
            type: integer
            format: uuid
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Person"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
  /premises/{premisesId}/bookings:
    get:
      tags:
        - Operations on premises
      summary: Returns all bookings for an approved premises
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises to get bookings for
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Booking"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
    post:
      tags:
        - Operations on premises
      summary: Adds a new booking for an approved premises
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises to create a booking for
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/NewBooking"
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Booking"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
      x-codegen-request-body-name: body
  /premises/{premisesId}/capacity:
    get:
      tags:
        - Operations on premises
      summary: Returns the Premises' capacity for each date from today to the end of the last existing booking
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises to get bookings for
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DateCapacity"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
  /premises/{premisesId}/bookings/{bookingId}:
    get:
      tags:
        - Operations on premises
      summary: Returns a specific booking for an approved premises
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises the booking is related to
          required: true
          schema:
            type: string
            format: uuid
        - name: bookingId
          in: path
          description: ID of the booking
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Booking"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
  /premises/{premisesId}/bookings/{bookingId}/arrivals:
    post:
      tags:
        - Operations on bookings
      summary: Posts an arrival to a specified approved premises booking
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises the booking is related to
          required: true
          schema:
            type: string
            format: uuid
        - name: bookingId
          in: path
          description: ID of the booking
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: details of the arrival
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/NewArrival"
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Arrival"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID or booking ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
      x-codegen-request-body-name: body
  /premises/{premisesId}/bookings/{bookingId}/extensions:
    post:
      tags:
        - Operations on bookings
      summary: Posts an extension to a specified approved premises booking
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises the booking is related to
          required: true
          schema:
            type: string
            format: uuid
        - name: bookingId
          in: path
          description: ID of the booking
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: details of the extension
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/NewExtension"
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Extension"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID or booking ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
      x-codegen-request-body-name: body
  /premises/{premisesId}/bookings/{bookingId}/departures:
    post:
      tags:
        - Operations on bookings
      summary: Posts a departure to a specified approved premises booking
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises the booking is related to
          required: true
          schema:
            type: string
            format: uuid
        - name: bookingId
          in: path
          description: ID of the booking
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: details of the departure
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/NewDeparture"
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Departure"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID or booking ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
      x-codegen-request-body-name: body
  /premises/{premisesId}/bookings/{bookingId}/non-arrivals:
    post:
      tags:
        - Operations on bookings
      summary: Posts an non-arrival to a specified approved premises booking
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises the booking is related to
          required: true
          schema:
            type: string
            format: uuid
        - name: bookingId
          in: path
          description: ID of the booking
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: details of the non-arrival
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/NewNonarrival"
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Nonarrival"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID or booking ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
      x-codegen-request-body-name: body
  /premises/{premisesId}/bookings/{bookingId}/cancellations:
    post:
      tags:
        - Operations on bookings
      summary: Posts a cancellation to a specified approved premises booking
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises the cancellation is related to
          required: true
          schema:
            type: string
            format: uuid
        - name: bookingId
          in: path
          description: ID of the booking
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: details of the cancellation
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/NewCancellation"
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Cancellation"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID or booking ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
      x-codegen-request-body-name: body
  /person/search:
    get:
      summary: Searches for a Person by their CRN
      parameters:
        - name: crn
          in: query
          description: CRN to search for
          required: true
          schema:
            type: string
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Person"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        404:
          description: invalid CRN
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /person/{crn}/risks:
    get:
      summary: Returns the risks for a Person
      parameters:
        - name: crn
          in: path
          description: CRN of the Person to fetch risks for
          required: true
          schema:
            type: string
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/PersonRisks"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid CRN
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
  /premises/{premisesId}/lost-beds:
    post:
      tags:
        - Operations on premises
      summary: Posts a lost bed to a specified approved premises
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises the lost bed is related to
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: details of the lost bed
        content:
          "application/json":
            schema:
              $ref: "#/components/schemas/NewLostBed"
        required: true
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/LostBed"
        400:
          description: invalid params
          content:
            "application/problem+json":
              schema:
                $ref: "#/components/schemas/ValidationError"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        404:
          description: invalid premises ID or booking ID
          content:
            "application/json":
              schema:
                $ref: "#/components/schemas/Problem"
        500:
          $ref: "#/components/responses/500Response"
      x-codegen-request-body-name: body
    get:
      tags:
        - Operations on premises
      summary: Lists all Lost Beds entries for the Premises
      parameters:
        - name: premisesId
          in: path
          description: ID of the premises to show lost beds for
          required: true
          schema:
            type: string
            format: uuid
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LostBed"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/departure-reasons:
    get:
      tags:
        - Reference Data
      summary: Lists all departure reasons
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DepartureReason"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/move-on-categories:
    get:
      tags:
        - Reference Data
      summary: Lists all move-on categories for departures
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MoveOnCategory"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/destination-providers:
    get:
      tags:
        - Reference Data
      summary: Lists all destination providers for departures
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DestinationProvider"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/supervising-providers:
    get:
      tags:
        - Reference Data
      summary: Lists all supervising providers for arrivals
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SupervisingProvider"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/supervising-teams:
    get:
      tags:
        - Reference Data
      summary: Lists all supervising teams for arrivals
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SupervisingTeam"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/supervising-officers:
    get:
      tags:
        - Reference Data
      summary: Lists all supervising officers for arrivals
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SupervisingOfficer"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/key-workers:
    get:
      tags:
        - Reference Data
      summary: Lists all key workers for arrivals
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/KeyWorker"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/lost-bed-reasons:
    get:
      tags:
        - Reference Data
      summary: Lists all reasons for losing beds
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LostBedReason"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
  /reference-data/cancellation-reasons:
    get:
      tags:
        - Reference Data
      summary: Lists all cancellation reasons
      responses:
        200:
          description: successful operation
          content:
            "application/json":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CancellationReason"
        401:
          $ref: "#/components/responses/401Response"
        403:
          $ref: "#/components/responses/403Response"
        500:
          $ref: "#/components/responses/500Response"
components:
  responses:
    401Response:
      description: not authenticated
      content:
        "application/json":
          schema:
            $ref: "#/components/schemas/Problem"
    403Response:
      description: unauthorised
      content:
        "application/json":
          schema:
            $ref: "#/components/schemas/Problem"
    500Response:
      description: unexpected error
      content:
        "application/json":
          schema:
            $ref: "#/components/schemas/Problem"
  schemas:
    Premises:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Hope House
        apCode:
          type: string
          example: NEHOPE1
        postcode:
          type: string
          example: LS1 3AD
        bedCount:
          type: integer
          example: 22
        availableBedsForToday:
          type: integer
          example: 20
        probationRegion:
          $ref: "#/components/schemas/ProbationRegion"
        apArea:
          $ref: "#/components/schemas/ApArea"
        localAuthorityArea:
          $ref: "#/components/schemas/LocalAuthorityArea"
      required:
        - id
        - name
        - apCode
        - postcode
        - bedCount
        - availableBedsForToday
        - probationRegion
        - apArea
        - localAuthorityArea
    LocalAuthorityArea:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 6abb5fa3-e93f-4445-887b-30d081688f44
        identifier:
          type: string
          example: LEEDS
        name:
          type: string
          example: Leeds City Council
      required:
        - id
        - identifier
        - name
    ApArea:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: cd1c2d43-0b0b-4438-b0e3-d4424e61fb6a
        identifier:
          type: string
          example: LON
        name:
          type: string
          example: Yorkshire & The Humber
      required:
        - id
        - identifier
        - name
    ProbationRegion:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 952790c0-21d7-4fd6-a7e1-9018f08d8bb0
        name:
          type: string
          example: NPS North East Central Referrals
      required:
        - id
        - name
    BookingBody:
      type: object
      properties:
        id:
          type: string
          format: uuid
        person:
          $ref: "#/components/schemas/Person"
        arrivalDate:
          type: string
          format: date
        departureDate:
          type: string
          format: date
        keyWorker:
          $ref: "#/components/schemas/KeyWorker"
      required:
        - id
        - person
        - arrivalDate
        - departureDate
        - keyWorker
    NewBooking:
      type: object
      properties:
        crn:
          type: string
          example: A123456
        expectedArrivalDate:
          type: string
          format: date
          example: 2022-07-28
        expectedDepartureDate:
          type: string
          format: date
          example: 2022-09-30
        keyWorkerId:
          type: string
          format: uuid
      required:
        - crn
        - expectedArrivalDate
        - expectedDepartureDate
        - keyWorkerId
    Booking:
      allOf:
        - $ref: "#/components/schemas/BookingBody"
        - type: object
          properties:
            status:
              type: string
              enum:
                - arrived
                - awaiting-arrival
                - not-arrived
                - departed
                - cancelled
            extensions:
              type: array
              items:
                $ref: "#/components/schemas/Extension"
            arrival:
              nullable: true
              allOf:
                - $ref: "#/components/schemas/Arrival"
            departure:
              nullable: true
              allOf:
                - $ref: "#/components/schemas/Departure"
            nonArrival:
              nullable: true
              allOf:
                - $ref: "#/components/schemas/Nonarrival"
            cancellation:
              nullable: true
              allOf:
                - $ref: "#/components/schemas/Cancellation"
          required:
            - status
            - extensions
    Person:
      type: object
      properties:
        crn:
          type: string
        name:
          type: string
      required:
        - crn
        - name
    Arrival:
      type: object
      properties:
        bookingId:
          type: string
          format: uuid
        arrivalDate:
          type: string
          format: date
        expectedDepartureDate:
          type: string
          format: date
        notes:
          type: string
      required:
        - bookingId
        - arrivalDate
        - expectedDepartureDate
    NewArrival:
      type: object
      properties:
        arrivalDate:
          type: string
          format: date
        expectedDepartureDate:
          type: string
          format: date
        notes:
          type: string
      required:
        - arrivalDate
        - expectedDepartureDate
    Nonarrival:
      type: object
      properties:
        id:
          type: string
          format: uuid
        bookingId:
          type: string
          format: uuid
        date:
          type: string
          format: date
        reason:
          $ref: "#/components/schemas/NonArrivalReason"
        notes:
          type: string
      required:
        - id
        - bookingId
        - date
        - reason
    NewNonarrival:
      type: object
      properties:
        date:
          type: string
          format: date
        reason:
          type: string
          format: uuid
        notes:
          type: string
      required:
        - date
        - reason
    NewCancellation:
      type: object
      properties:
        date:
          type: string
          format: date
        reason:
          type: string
          format: uuid
        notes:
          type: string
      required:
        - bookingId
        - date
        - reason
    Cancellation:
      type: object
      properties:
        id:
          type: string
          format: uuid
        bookingId:
          type: string
          format: uuid
        date:
          type: string
          format: date
        reason:
          $ref: "#/components/schemas/CancellationReason"
        notes:
          type: string
      required:
        - bookingId
        - date
        - reason
    Extension:
      type: object
      properties:
        id:
          type: string
          format: uuid
        bookingId:
          type: string
          format: uuid
        previousDepartureDate:
          type: string
          format: date
        newDepartureDate:
          type: string
          format: date
        notes:
          type: string
      required:
        - id
        - bookingId
        - previousDepartureDate
        - newDepartureDate
    NewExtension:
      type: object
      properties:
        newDepartureDate:
          type: string
          format: date
        notes:
          type: string
      required:
        - newDepartureDate
    NewDeparture:
      type: object
      properties:
        dateTime:
          type: string
          format: date-time
        reasonId:
          type: string
          format: uuid
        notes:
          type: string
        moveOnCategoryId:
          type: string
          format: uuid
        destinationProviderId:
          type: string
          format: uuid
      required:
        - dateTime
        - reasonId
        - moveOnCategoryId
        - destinationProviderId
    Departure:
      type: object
      properties:
        id:
          type: string
          format: uuid
        bookingId:
          type: string
          format: uuid
        dateTime:
          type: string
          format: date-time
        reason:
          $ref: "#/components/schemas/DepartureReason"
        notes:
          type: string
        moveOnCategory:
          $ref: "#/components/schemas/MoveOnCategory"
        destinationProvider:
          $ref: "#/components/schemas/DestinationProvider"
      required:
        - id
        - bookingId
        - dateTime
        - reason
        - moveOnCategory
        - destinationProvider
    Problem:
      type: object
      properties:
        type:
          type: string
          example: https://example.net/validation-error
        title:
          type: string
          example: Invalid request parameters
        status:
          type: integer
          example: 400
        detail:
          type: string
          example: You provided invalid request parameters
        instance:
          type: string
          example: f7493e12-546d-42c3-b838-06c12671ab5b
    ValidationError:
      allOf:
        - $ref: "#/components/schemas/Problem"
        - type: object
          properties:
            invalid-params:
              type: array
              items:
                $ref: "#/components/schemas/InvalidParam"
    InvalidParam:
      type: object
      properties:
        propertyName:
          type: string
          example: arrivalDate
        errorType:
          type: string
    LostBed:
      type: object
      properties:
        id:
          type: string
          format: uuid
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        numberOfBeds:
          type: integer
        reason:
          $ref: "#/components/schemas/LostBedReasons"
        referenceNumber:
          type: string
        notes:
          type: string
      required:
        - id
        - startDate
        - endDate
        - numberOfBeds
        - reason
    NewLostBed:
      type: object
      properties:
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        numberOfBeds:
          type: integer
        reason:
          $ref: "#/components/schemas/LostBedReasons"
        referenceNumber:
          type: string
        notes:
          type: string
      required:
        - startDate
        - endDate
        - numberOfBeds
        - reason
    LostBedReasons:
      type: string
      enum:
        - Fire
        - Damaged
        - refurbishment
        - Staff shortage
    DepartureReason:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Admitted to Hospital
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    MoveOnCategory:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Housing Association - Rented
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    DestinationProvider:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Ext - North East Region
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    SupervisingProvider:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: North East Region
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    SupervisingTeam:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: CP - Sheffield
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    SupervisingOfficer:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Smith, John (PS - PO)
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    KeyWorker:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Brown, James (PS - PSO)
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    LostBedReason:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Double Room with Single Occupancy - Other (Non-FM)
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    CancellationReason:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Recall
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    NonArrivalReason:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: Recall
        isActive:
          type: boolean
      required:
        - id
        - name
        - isActive
    DateCapacity:
      type: object
      properties:
        date:
          type: date
        availableBeds:
          type: integer
          example: 10
      required:
        - date
        - availableBeds
    PersonRisks:
      type: object
      properties:
        crn:
          type: string
        roshRisks:
          $ref: "#/components/schemas/RoshRisksEnvelope"
        mappa:
          $ref: "#/components/schemas/MappaEnvelope"
        tier:
          $ref: "#/components/schemas/RiskTierEnvelope"
        flags:
          $ref: "#/components/schemas/FlagsEnvelope"
      required:
        - crn
        - roshRisks
        - tier
        - flags
    RoshRisksEnvelope:
      type: object
      properties:
        status:
          $ref: "#/components/schemas/RiskEnvelopeStatus"
        value:
          $ref: "#/components/schemas/RoshRisks"
      required:
        - status
    RoshRisks:
      type: object
      properties:
        overallRisk:
          type: string
        riskToChildren:
          type: string
        riskToPublic:
          type: string
        riskToKnownAdult:
          type: string
        riskToStaff:
          type: string
        lastUpdated:
          type: string
          format: date
      required:
        - overallRisk
        - riskToChildren
        - riskToPublic
        - riskToKnownAdult
        - riskToStaff
    MappaEnvelope:
      type: object
      properties:
        status:
          $ref: "#/components/schemas/RiskEnvelopeStatus"
        value:
          $ref: "#/components/schemas/Mappa"
      required:
        - status
    Mappa:
      type: object
      properties:
        level:
          type: string
        lastUpdated:
          type: string
          format: date
      required:
        - level
        - lastUpdated
    RiskTierEnvelope:
      type: object
      properties:
        status:
          $ref: "#/components/schemas/RiskEnvelopeStatus"
        value:
          $ref: "#/components/schemas/RiskTier"
      required:
        - status
    RiskTier:
      type: object
      properties:
        level:
          type: string
        lastUpdated:
          type: string
          format: date
      required:
        - level
        - lastUpdated
    FlagsEnvelope:
      type: object
      properties:
        status:
          $ref: "#/components/schemas/RiskEnvelopeStatus"
        value:
          type: array
          items:
            type: string
      required:
        - status
    RiskEnvelopeStatus:
      type: string
      enum:
        - retrieved
        - not_found
        - error
    ApplicationSummary:
      type: object
      properties:
        id:
          type: string
          format: uuid
        person:
          $ref: "#/components/schemas/Person"
        tier:
          $ref: "#/components/schemas/RiskTier"
        currentLocation:
          type: string
          description: the location of the Service User
          example: HMP Hewell
        arrivalDate:
          type: string
          format: date
        daysSinceApplicationRecieved:
          type: string
          format: date
        status:
          type: string
          enum:
            - in-progress
            - submitted
            - further-information-requested
            - not-submitted
            - rejected
            - withdrawn
